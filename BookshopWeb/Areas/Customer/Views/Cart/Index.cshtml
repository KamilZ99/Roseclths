@model ShoppingCartViewModel

@{
    ViewData["Title"] = "Cart";
}

<form method="post" class="mt-4">

    <div class="row">
        <div class="col-12">
            <a asp-area="Customer" asp-controller="Home" asp-action="Index" class="link-warning text-decoration-none"><i class="bi bi-arrow-left-circle me-2"></i> Go back</a>
        </div>
    </div>
        
    <div class="row mt-5">
        <div class="col-12">
            <p class="fs-3">Shopping Cart</p>
            <hr />
        </div>
    </div>

    @if (Model.ListCart.Count() < 1)
    {
        <div class="row">
            <div class="col-6">
                <h4><strong>Your cart is empty!</strong></h4>
            </div>
        </div>
    }
    else
    {

    @foreach (var cart in Model.ListCart)
    {
        <div class="row">
            <div class="col-2 text-center">
                <img style="height: 200px;" src="@cart.Book.ImageUrl" alt="@cart.Book.Title book cover" title="@cart.Book.Title" />
            </div>
            <div class="col-6">
                <h4><strong>@cart.Book.Title</strong></h4>
                <h6>@cart.Book.Author</h6>
                <p><small>@cart.Book.Description</small></p>
            </div>
            <div class="col-4 my-auto text-center">
                <h6><strong class="mx-2">Price: @cart.Book.Price.ToString("c")</strong></h6>
                <h6><strong class="mx-2">Count: @cart.Count</strong></h6>
                <a asp-action="plus" asp-route-cartId="@cart.Id" class="btn btn-warning"><i class="bi bi-plus-circle"></i></a>
                <a asp-action="minus" asp-route-cartId="@cart.Id" class="btn btn-white"><i class="bi bi-dash-circle"></i></a>
                <a asp-action="remove" asp-route-cartId="@cart.Id" class="btn btn-danger"><i class="bi bi-trash-fill"></i></a>
            </div>
        </div>

        <hr />
    }
    


    <div class="row">
        <div class="col-12 text-end">
            <p>Total (USD) <strong>@Model.OrderHeader.TotalPrice.ToString("c")</strong></p>
        </div>
    </div>

    <a asp-controller="Cart" asp-action="Summary" class="btn btn-success float-end">Checkout</a>
    }
</form>